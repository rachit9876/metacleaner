:root{
  --md-bg:#0b0f13;
  --md-bg-2:#0f151b;
  --md-surface:#121922;
  --md-surface-2:#162130;
  --md-outline:rgba(255,255,255,.12);
  --md-outline-strong:rgba(255,255,255,.2);
  --md-text:#e9eef6;
  --md-text-2:rgba(233,238,246,.7);
  --md-text-3:rgba(233,238,246,.5);
  --md-primary:#7dd3fc;
  --md-primary-2:#38bdf8;
  --md-accent:#a78bfa;
  --md-success:#34d399;
  --md-warning:#f59e0b;
  --md-shadow-1:0 8px 24px rgba(0,0,0,.35);
  --md-shadow-2:0 16px 48px rgba(0,0,0,.45);
  --md-radius-lg:24px;
  --md-radius-md:16px;
  --md-radius-sm:12px;
  --md-speed:220ms;
  --md-ease:cubic-bezier(.2,.8,.2,1);
}
*{margin:0;padding:0;box-sizing:border-box}
::selection{background:rgba(125,211,252,.35);color:#041119}
html{scroll-behavior:smooth;-webkit-text-size-adjust:100%;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}
html::-webkit-scrollbar{display:none}
body{
  font-family:'Manrope','Space Grotesk',system-ui,sans-serif;
  background:radial-gradient(1000px 600px at 15% -10%, rgba(56,189,248,.18), transparent 55%),
             radial-gradient(800px 500px at 90% 0%, rgba(167,139,250,.18), transparent 45%),
             linear-gradient(160deg, var(--md-bg) 0%, var(--md-bg-2) 100%);
  color:var(--md-text-2);
  line-height:1.6;
  min-height:100vh;
  padding:2.5rem 1.75rem 5rem;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  touch-action:pan-y;
}
body::before,
body::after{
  content:'';
  position:fixed;
  inset:auto auto 5% -8%;
  width:360px;
  height:360px;
  background:radial-gradient(circle at 30% 30%, rgba(125,211,252,.25), transparent 60%);
  filter:blur(12px);
  z-index:-1;
  pointer-events:none;
}
body::after{
  inset:10% -6% auto auto;
  width:320px;
  height:320px;
  background:radial-gradient(circle at 60% 30%, rgba(167,139,250,.22), transparent 60%);
}
body.drag-over{background:linear-gradient(160deg,#0d141c 0%,#101823 100%);color:var(--md-text)}
body.drag-over::before{content:'';position:fixed;inset:0;border:2px dashed rgba(125,211,252,.45);pointer-events:none;z-index:9998;animation:pulse 1.6s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:.5}50%{opacity:1}}

h2{
  text-align:center;
  font-family:'Space Grotesk',system-ui,sans-serif;
  font-size:clamp(2.4rem,4.5vw,3.6rem);
  font-weight:650;
  letter-spacing:-.02em;
  color:var(--md-text);
  margin-bottom:.6rem;
}
.subtitle{
  text-align:center;
  color:var(--md-text-3);
  margin-bottom:2.4rem;
  font-size:clamp(1rem,2.2vw,1.1rem);
  max-width:700px;
  margin-left:auto;
  margin-right:auto;
}

.container{
  max-width:860px;
  margin:0 auto;
  background:linear-gradient(160deg, rgba(18,25,34,.92) 0%, rgba(22,33,48,.92) 100%);
  border:1px solid var(--md-outline);
  border-radius:var(--md-radius-lg);
  padding:2.2rem;
  box-shadow:var(--md-shadow-2);
  backdrop-filter:blur(18px);
}

.row{display:flex;gap:1rem;margin-bottom:1.2rem;align-items:stretch;flex-wrap:wrap}
input[type="file"]{display:none}

.file-input-wrapper{
  flex:1;
  min-width:240px;
  padding:1.1rem 1.6rem;
  background:linear-gradient(135deg, rgba(56,189,248,.12), rgba(125,211,252,.08));
  border:1px dashed rgba(125,211,252,.55);
  border-radius:var(--md-radius-md);
  color:var(--md-text);
  font-weight:600;
  cursor:pointer;
  transition:transform var(--md-speed) var(--md-ease), box-shadow var(--md-speed) var(--md-ease), border-color var(--md-speed) var(--md-ease);
  text-align:center;
  min-height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.file-input-wrapper:hover{transform:translateY(-2px);box-shadow:var(--md-shadow-1);border-color:rgba(125,211,252,.8)}

.controls{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:1.25rem;
  margin-bottom:1.25rem;
  padding:1.5rem;
  background:linear-gradient(160deg, rgba(20,30,42,.8), rgba(14,22,32,.8));
  border-radius:var(--md-radius-md);
  border:1px solid var(--md-outline);
  max-height:600px;
  opacity:1;
  overflow:hidden;
  transition:max-height var(--md-speed) var(--md-ease),opacity var(--md-speed) var(--md-ease),padding var(--md-speed) var(--md-ease);
}
.controls.collapsed{max-height:0;opacity:0;padding:0 1rem}
.control-group{display:flex;flex-direction:column;gap:.55rem}
.control-group label{font-weight:600;color:var(--md-text);display:flex;align-items:center;gap:.5rem;font-size:.95rem}

input[type="range"]{
  width:100%;
  height:8px;
  background:linear-gradient(90deg, rgba(125,211,252,.35), rgba(56,189,248,.1));
  border-radius:999px;
  outline:none;
  -webkit-appearance:none;
  cursor:pointer;
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;
  width:22px;
  height:22px;
  background:linear-gradient(135deg, var(--md-primary) 0%, var(--md-primary-2) 100%);
  border-radius:50%;
  box-shadow:0 0 0 6px rgba(56,189,248,.18);
  transition:transform var(--md-speed) var(--md-ease);
}
input[type="range"]::-webkit-slider-thumb:hover{transform:scale(1.1)}
input[type="range"]::-moz-range-thumb{
  width:22px;height:22px;border:none;border-radius:50%;
  background:linear-gradient(135deg, var(--md-primary) 0%, var(--md-primary-2) 100%);
}

input[type="number"], select{
  padding:.85rem 1rem;
  background:rgba(14,22,32,.7);
  border:1px solid var(--md-outline-strong);
  border-radius:var(--md-radius-sm);
  color:var(--md-text);
  font-family:inherit;
  font-size:.98rem;
  min-height:48px;
  transition:border-color var(--md-speed) var(--md-ease), box-shadow var(--md-speed) var(--md-ease);
  appearance:none;
}
input[type="number"]:focus, select:focus{
  border-color:rgba(125,211,252,.7);
  box-shadow:0 0 0 3px rgba(56,189,248,.2);
  outline:none;
}

.toggle{
  width:58px;
  height:34px;
  background:rgba(255,255,255,.08);
  border-radius:999px;
  position:relative;
  cursor:pointer;
  transition:all var(--md-speed) var(--md-ease);
  border:1px solid var(--md-outline);
}
.toggle.active{
  background:linear-gradient(135deg, rgba(56,189,248,.9), rgba(125,211,252,.8));
  border-color:rgba(125,211,252,.8);
  box-shadow:0 0 16px rgba(56,189,248,.35);
}
.toggle-slider{
  width:26px;height:26px;border-radius:50%;
  position:absolute;top:3px;left:3px;
  background:#0b1016;
  transition:left var(--md-speed) var(--md-ease), background var(--md-speed) var(--md-ease);
  box-shadow:var(--md-shadow-1);
}
.toggle.active .toggle-slider{left:29px;background:#0b1016}

button{
  padding:.85rem 1.5rem;
  background:linear-gradient(135deg, rgba(125,211,252,.15), rgba(56,189,248,.08));
  color:var(--md-text);
  border:1px solid rgba(125,211,252,.4);
  border-radius:999px;
  cursor:pointer;
  font-weight:600;
  transition:transform var(--md-speed) var(--md-ease), box-shadow var(--md-speed) var(--md-ease), border-color var(--md-speed) var(--md-ease);
  min-height:48px;
  box-shadow:var(--md-shadow-1);
}
button:hover{transform:translateY(-2px);border-color:rgba(125,211,252,.7);box-shadow:var(--md-shadow-2)}
button:active{transform:translateY(0) scale(.98)}
button:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}

.purple-btn{
  background:linear-gradient(135deg, rgba(244,114,182,.35), rgba(236,72,153,.2));
  border-color:rgba(244,114,182,.55);
  color:var(--md-text);
}
.purple-btn:hover{border-color:rgba(244,114,182,.85)}

#resetBtn{
  position:fixed;
  bottom:24px;
  right:24px;
  z-index:9999;
  padding:.65rem 1.2rem;
  font-size:.9rem;
  border-radius:999px;
}

.images-container{
  display:flex;
  gap:1.5rem;
  overflow-x:auto;
  margin:2rem 0;
  padding:1.5rem;
  background:rgba(9,14,20,.5);
  border-radius:var(--md-radius-md);
  border:1px solid var(--md-outline);
  min-height:150px;
  align-items:center;
  justify-content:center;
  scroll-snap-type:x mandatory;
  scrollbar-width:thin;
  scrollbar-color:rgba(125,211,252,.35) transparent;
}
.images-container:empty::before{
  content:'Drop files here or click "Choose Files" to get started';
  opacity:.6;
  font-size:1rem;
  color:var(--md-text-3);
  text-align:center;
  display:block;
  padding:2rem;
}
.images-container::-webkit-scrollbar{height:6px}
.images-container::-webkit-scrollbar-thumb{background-color:rgba(125,211,252,.35);border-radius:999px}

.image-box{
  flex:0 0 220px;
  min-width:220px;
  background:linear-gradient(160deg, rgba(18,25,34,.9), rgba(12,18,26,.9));
  border-radius:var(--md-radius-md);
  padding:1.1rem;
  border:1px solid var(--md-outline);
  text-align:center;
  transition:transform var(--md-speed) var(--md-ease), box-shadow var(--md-speed) var(--md-ease), border-color var(--md-speed) var(--md-ease);
}
.image-box:hover{border-color:rgba(125,211,252,.6);transform:translateY(-4px);box-shadow:var(--md-shadow-1)}
.image-box.processed{border-color:rgba(52,211,153,.6);box-shadow:0 0 18px rgba(52,211,153,.2)}

.image-preview img{
  max-width:100%;
  max-height:190px;
  border-radius:var(--md-radius-sm);
  margin-bottom:.9rem;
  box-shadow:var(--md-shadow-1);
  object-fit:cover;
}
.file-icon{
  display:flex;
  align-items:center;
  justify-content:center;
  height:150px;
  border-radius:var(--md-radius-sm);
  background:linear-gradient(135deg, rgba(125,211,252,.2), rgba(56,189,248,.08));
  color:var(--md-text);
  font-weight:700;
  letter-spacing:.08em;
  margin-bottom:.9rem;
}

.image-info{display:flex;flex-direction:column;gap:.5rem}
.image-name{font-size:.9rem;color:var(--md-text);font-weight:600;word-break:break-word}
.image-size{font-size:.82rem;color:var(--md-text-3)}
.processed-label{font-size:.72rem;color:var(--md-success);font-weight:700;text-transform:uppercase;letter-spacing:.12em}

#processed-images-container{display:flex;flex-direction:column;gap:1rem;animation:fadeIn .35s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
#processed-images-container h3{margin:0;color:var(--md-text);font-size:1.25rem;font-weight:650}
.processed-images-grid{display:flex;gap:1.5rem;overflow-x:auto;padding:.75rem 0;scroll-snap-type:x mandatory}

.security-note{
  background:linear-gradient(160deg, rgba(15,22,32,.85), rgba(18,27,39,.85));
  border:1px solid var(--md-outline);
  border-radius:var(--md-radius-lg);
  padding:1.75rem;
  margin:2.5rem 0;
  position:relative;
  overflow:hidden;
  transition:box-shadow var(--md-speed) var(--md-ease);
  box-shadow:var(--md-shadow-1);
}
.security-note:hover{box-shadow:var(--md-shadow-2)}
.security-note h3{color:var(--md-text);margin-bottom:0;font-weight:650;font-size:1.1rem;user-select:none;transition:color var(--md-speed) var(--md-ease)}
.security-note h3:hover{color:var(--md-primary)}
.security-note ul{list-style:none;padding:0}
.security-note li{padding:.6rem 0;padding-left:1.75rem;position:relative;color:var(--md-text-2)}
.security-note li::before{content:"âœ“";position:absolute;left:0;color:rgba(125,211,252,.9);font-weight:700;font-size:1.05rem}
.security-note p{margin-top:1.2rem;padding-top:1.1rem;border-top:1px solid var(--md-outline);font-style:italic;color:var(--md-text-3);font-size:.9rem}

@media (max-width:980px){
  .container{max-width:760px;padding:1.8rem}
}
@media (max-width:768px){
  body{padding:1.5rem 1.2rem 4rem}
  .container{padding:1.5rem;border-radius:var(--md-radius-md)}
  .row{gap:.8rem}
  .row button{flex:1;min-width:140px}
  .file-input-wrapper{width:100%;min-height:54px}
  .controls{grid-template-columns:1fr;gap:1.1rem;padding:1.2rem}
  .images-container{gap:1.1rem;padding:1.2rem}
  .image-box{flex:0 0 190px;min-width:190px}
  #resetBtn{bottom:16px;right:16px}
}
@media (max-width:480px){
  body{padding:1.2rem .9rem 4rem}
  h2{font-size:clamp(2rem,8vw,2.6rem)}
  .subtitle{margin-bottom:2rem}
  .container{padding:1.2rem}
  .row button{flex:1 1 calc(50% - .35rem);min-width:0}
  .image-box{flex:0 0 170px;min-width:170px}
  .file-icon{height:130px}
  input[type="range"]::-webkit-slider-thumb{width:24px;height:24px}
}
